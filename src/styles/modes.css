/* --- MODE: OBJECT (Default) --- */
[data-mode="object"] h1::after,
[data-mode="object"] h2::after {
  content: ' +/-';
  color: var(--accent);
  font-size: 0.8em;
  animation: flicker calc(var(--motion-duration-slow) * var(--motion-scale)) infinite alternate;
}

@keyframes flicker {
  from { opacity: 0.5; }
  to { opacity: 1; }
}

[data-mode="object"] .decorative {
  text-decoration: line-through;
  text-decoration-color: var(--accent);
}


/* --- MODE: NOTHING --- */
[data-mode="nothing"] .descriptive {
  display: none;
}

[data-mode="nothing"] .portals {
    margin-top: var(--spacing-xl);
}


/* --- MODE: NO-ONE --- */
[data-mode="no-one"] .personal-info {
  /* This is a trick to hide text but keep space, then replace with a pseudo-element */
  font-size: 0;
  letter-spacing: 0;
}

[data-mode="no-one"] .personal-info::before {
  content: 'Â·';
  font-size: 1rem; /* Restore font size for the dot */
  color: var(--muted);
  letter-spacing: normal;
}

/* This will hide first-person pronouns if they are wrapped in a span */
[data-mode="no-one"] .first-person {
    display: none;
}


/* --- UI CONTROLS --- */
.controls button {
  background: none;
  border: 1px solid var(--muted);
  color: var(--muted);
  padding: var(--spacing-xs) var(--spacing-sm);
  margin-left: var(--spacing-sm);
  cursor: pointer;
  font-family: inherit;
  transition: all calc(var(--motion-duration-normal) * var(--motion-scale));
}

.controls button:hover {
  border-color: var(--fg);
  color: var(--fg);
}

/* The global :focus-visible in base.css will handle the focus outline */

/* Highlight active mode toggle */
[data-mode="nothing"] .controls [data-mode-target="nothing"],
[data-mode="object"] .controls [data-mode-target="object"],
[data-mode="no-one"] .controls [data-mode-target="no-one"] {
  background-color: var(--accent);
  border-color: var(--accent);
  color: var(--bg);
}

#calm-toggle.active {
    background-color: var(--accent);
    border-color: var(--accent);
    color: var(--bg);
}
