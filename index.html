<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Small tools. Real use.</title>
  <meta name="description" content="Small, honest tools; usefulness over spectacle. Fast site, no libraries, no external fonts." />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Crect width='256' height='256' rx='56' fill='%23000000'/%3E%3Ctext x='50%25' y='56%25' dominant-baseline='middle' text-anchor='middle' font-size='140' font-family='ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto' fill='%23ffffff'%3EA%3C/text%3E%3C/svg%3E"/>
  <meta name="theme-color" content="#0ea5e9" />
  <meta name="keywords" content="developer tools,CLI applications,Python,Rust,JavaScript,open source,minimalist web development,performance optimization" />
  <link rel="canonical" href="https://ali90h.github.io/" />
  <link rel="manifest" href="/manifest.json" />
  <link rel="preconnect" href="https://github.com" crossorigin />
  <meta name="robots" content="index,follow" />
    <!-- PWA manifest & icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <meta name="theme-color" content="#0ea5e9" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
  <meta name="author" content="ali90h" />
  
  <!-- OpenGraph / Social Media -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Small tools. Real use." />
  <meta property="og:description" content="Small, honest tools; usefulness over spectacle. Fast site, no libraries, no external fonts." />
  <meta property="og:url" content="https://ali90h.github.io/" />
  <meta property="og:site_name" content="ali90h" />
  <meta property="og:locale" content="en_US" />
  
  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Small tools. Real use." />
  <meta name="twitter:description" content="Small, honest tools; usefulness over spectacle. Fast site, no libraries, no external fonts." />
  <meta name="twitter:creator" content="@ali90h" />
  <!-- 
  robots.txt should contain:
  User-agent: *
  Allow: /
  Sitemap: https://ali90h.github.io/sitemap.xml
  -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Person",
        "@id": "https://ali90h.github.io/#person",
        "name": "ali90h",
        "url": "https://ali90h.github.io",
        "sameAs": ["https://github.com/ali90h"],
        "jobTitle": "Full-stack Developer",
        "description": "I build small tools that get used: tiny CLIs, sharp scripts, and pragmatic open‑source improvements.",
        "knowsAbout": ["Python", "Rust", "JavaScript", "DevTools", "CLI Applications"]
      },
      {
        "@type": "WebSite",
        "@id": "https://ali90h.github.io/#website",
        "url": "https://ali90h.github.io",
        "name": "ali90h",
        "description": "Small, honest tools; usefulness over spectacle. Fast site, no libraries, no external fonts.",
        "author": {"@id": "https://ali90h.github.io/#person"},
        "inLanguage": "en-US"
      },
      {
        "@type": "SoftwareApplication",
        "name": "AutoRepro",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Cross-platform",
        "description": "Transform issue descriptions into reproducible steps and dev‑containers.",
        "url": "https://github.com/ali90h/AutoRepro",
        "programmingLanguage": "Python",
        "author": {"@id": "https://ali90h.github.io/#person"}
      },
      {
        "@type": "Article",
        "headline": "Building CLI tools that developers actually use",
        "description": "From issue reproduction to automation: lessons learned creating AutoRepro and the importance of tight feedback loops in developer tooling.",
        "author": {"@id": "https://ali90h.github.io/#person"},
        "datePublished": "2025-09",
        "keywords": ["DevTools", "Python", "CLI"]
      }
    ]
  }
  </script>
  <style>
    :root{--bg:#0b0c0e;--bg-soft:#0f1115;--text:#e6e7ea;--muted:#a7adba;--card:#12141a;--border:#1c1f26;--accent:#0ea5e9;--success:#22c55e;--warning:#f59e0b;--info:#3b82f6;--subtle:#64748b;color-scheme:dark light}
    @media (prefers-color-scheme: light){:root{--bg:#f8f9fb;--bg-soft:#ffffff;--text:#0b1020;--muted:#4b5563;--card:#ffffff;--border:#e5e7eb;--success:#16a34a;--warning:#d97706;--info:#2563eb;--subtle:#6b7280}}
    [data-theme="light"]{--bg:#f8f9fb;--bg-soft:#ffffff;--text:#0b1020;--muted:#4b5563;--card:#ffffff;--border:#e5e7eb;--success:#16a34a;--warning:#d97706;--info:#2563eb;--subtle:#6b7280}
    [data-theme="dark"]{--bg:#0b0c0e;--bg-soft:#0f1115;--text:#e6e7ea;--muted:#a7adba;--card:#12141a;--border:#1c1f26;--success:#22c55e;--warning:#f59e0b;--info:#3b82f6;--subtle:#64748b}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:400 clamp(15px,1.1vw+10px,18px) ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,Apple Color Emoji,Noto Color Emoji,Segoe UI Emoji;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;line-height:1.6}
    .wrap{max-width:920px;margin-inline:auto;padding:20px}
    .skip{position:absolute;left:-9999px}
    .skip:focus{left:12px;top:12px;background:var(--accent);color:#000;padding:8px 12px;border-radius:10px;z-index:1000}
    a:focus,button:focus{outline:2px solid var(--accent);outline-offset:2px}
    a:focus:not(:focus-visible),button:focus:not(:focus-visible){outline:none}
    a:focus-visible,button:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
    header{position:sticky;top:0;backdrop-filter:saturate(120%) blur(8px);background:color-mix(in oklab,var(--bg) 75%,transparent);border-bottom:1px solid var(--border)}
    nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:14px 0}
    nav .brand{display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.2px}
    nav .brand .dot{width:10px;height:10px;border-radius:999px;background:var(--accent);box-shadow:0 0 0 3px color-mix(in oklab,var(--accent) 35%,transparent)}
    nav a{color:var(--muted);text-decoration:none;padding:8px 10px;border-radius:12px}
    nav a:hover,nav a:focus{color:var(--text);background:var(--card)}
    nav a:focus{outline:none;box-shadow:0 0 0 2px var(--accent)}
    .nav-links{display:flex;gap:6px;flex-wrap:wrap}
    .btn{appearance:none;border:1px solid var(--border);background:var(--card);color:var(--text);padding:8px 12px;border-radius:12px;cursor:pointer;font-weight:600}
    .btn:hover,.btn:focus{border-color:color-mix(in oklab,var(--border) 40%,var(--accent))}
    .btn:focus{outline:none;box-shadow:0 0 0 2px var(--accent)}
    .hero{padding:clamp(28px,10vw,88px) 0 28px}
    .hero h1{font-size:clamp(28px,4.2vw + 16px,48px);margin:0 0 12px;letter-spacing:-.5px;line-height:1.1}
    .hero p{margin:0;color:var(--muted);max-width:65ch;line-height:1.65}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
    .card{grid-column:span 12;background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px;transition:all 0.2s ease;position:relative}
    .card:hover{border-color:color-mix(in oklab,var(--border) 50%,var(--accent));transform:translateY(-1px);box-shadow:0 4px 12px color-mix(in oklab,var(--accent) 15%,transparent)}
    .card h3{margin:0 0 8px;font-size:1.08em;line-height:1.3}
    .card p{margin:0;color:var(--muted);line-height:1.55}
    .meta{display:flex;gap:10px;align-items:center;color:var(--muted);font-size:.92em;margin-top:12px;flex-wrap:wrap}
    @media(min-width:720px){.card.span-6{grid-column:span 6}}
    .card[aria-labelledby*="project"] h3::before{content:"🔧 ";opacity:0.7}
    .card[aria-labelledby*="writing"] h3::before{content:"✍️ ";opacity:0.7}
    .card[aria-labelledby*="github"] h3::before{content:"💻 ";opacity:0.7}
    @media(max-width:719px){.nav-links a,.btn{padding:12px 16px;min-height:44px;display:flex;align-items:center}.card{padding:24px 20px}.grid{gap:16px}.hero{padding:clamp(24px,8vw,48px) 0 24px}}
    section{margin:26px 0}
    section>header{display:flex;align-items:center;justify-content:space-between;border:none;backdrop-filter:none;background:transparent;padding:0;margin-bottom:10px}
    section h2{font-size:1.08rem;letter-spacing:.3px;margin:0;color:var(--muted);text-transform:uppercase;font-weight:600}
    footer{margin:44px 0 22px;color:var(--muted);font-size:.92em;display:flex;justify-content:space-between;flex-wrap:wrap;gap:8px}
    a.inline{color:var(--text);text-decoration-color:color-mix(in oklab,var(--accent) 60%,transparent);text-underline-offset:2px}
    a.inline:hover,a.inline:focus{text-decoration-color:var(--accent)}
    a.inline:focus{outline:none;text-shadow:0 0 0 var(--accent)}
    body{font-family:"Inter var", Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", "Apple Color Emoji","Noto Color Emoji","Segoe UI Emoji"}
    .hero{position:relative}
    .hero-title{font-weight:800;letter-spacing:-0.01em}
    .brand .dot{animation:breathe 6s ease-in-out infinite}
    @keyframes breathe{0%,100%{transform:scale(1);box-shadow:0 0 0 3px color-mix(in oklab, var(--accent) 35%, transparent)}50%{transform:scale(1.06);box-shadow:0 0 0 7px color-mix(in oklab, var(--accent) 18%, transparent)}}
    .hero::before{content:"";position:absolute;inset:auto auto 0 0;width:min(42vw, 420px);height:min(42vw, 420px);background:conic-gradient(from 180deg at 50% 50%, color-mix(in oklab, var(--accent) 70%, transparent), transparent 30% 70%, color-mix(in oklab, var(--accent) 30%, transparent));opacity:.22;filter:blur(36px) saturate(120%);transform:translate(-6%, -10%) rotate(0deg);border-radius:50%;pointer-events:none;animation:drift 16s ease-in-out infinite alternate}
    @keyframes drift{to{transform:translate(6%, -2%) rotate(15deg);opacity:.32}}
    a.inline{position:relative;text-decoration:none}
    a.inline::after{content:"";position:absolute;left:0;bottom:-2px;height:1px;width:0;background:var(--accent);transition:width .35s ease}
    a.inline:hover::after{width:100%}
    @media (prefers-reduced-motion: reduce){.brand .dot,.hero::before{animation:none}.hero::before{opacity:.12}.card{transition:none}.card:hover{transform:none;box-shadow:none}.w{transition:none}.w:hover{transform:none;text-shadow:none}.w::after{display:none}a.inline::after{transition:none}}
    .card small{background:var(--bg-soft);padding:2px 6px;border-radius:4px;font-size:0.8em;color:var(--subtle);margin-left:6px}
    .featured-project{background:linear-gradient(135deg, color-mix(in oklab, var(--accent) 8%, var(--card)), var(--card));border:1px solid color-mix(in oklab, var(--accent) 20%, var(--border));margin:32px 0;cursor:pointer;text-decoration:none;color:inherit;display:block}
    .featured-project:hover{border-color:color-mix(in oklab, var(--accent) 40%, var(--border));transform:translateY(-2px);box-shadow:0 8px 24px color-mix(in oklab, var(--accent) 20%, transparent)}
    .featured-project .project-icon{font-size:2.5em;margin-bottom:8px;display:block}
    .featured-project h3{font-size:1.4em;margin:0 0 12px;color:var(--text)}
    .featured-project .tagline{font-size:1.1em;color:color-mix(in oklab, var(--accent) 80%, var(--text));font-weight:500;margin:0 0 12px}
    .featured-project .dev-status{background:color-mix(in oklab, var(--warning) 15%, var(--bg-soft));border:1px solid color-mix(in oklab, var(--warning) 30%, var(--border));border-radius:8px;padding:10px 14px;margin:16px 0 0;font-size:0.9em;color:var(--warning);font-weight:500}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    @media (prefers-reduced-motion: reduce){.featured-project{transition:none}.featured-project:hover{transform:none;box-shadow:none}}
    .search-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:color-mix(in oklab,var(--bg) 80%,transparent);backdrop-filter:blur(8px);z-index:1000;display:none;align-items:flex-start;justify-content:center;padding-top:20vh}
    .search-box{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px;width:min(500px,90vw);box-shadow:0 8px 32px color-mix(in oklab,var(--accent) 20%,transparent)}
    .search-input{width:100%;background:var(--bg-soft);border:1px solid var(--border);border-radius:8px;padding:12px 16px;font:inherit;color:var(--text);margin-bottom:16px}
    .search-input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px color-mix(in oklab,var(--accent) 30%,transparent)}
    .search-results{max-height:300px;overflow-y:auto}
    .search-result{padding:12px;border-radius:8px;cursor:pointer;border-bottom:1px solid var(--border)}
    .search-result:hover{background:var(--bg-soft)}
    .search-result h4{margin:0 0 4px;font-size:0.9em;color:var(--text)}
    .search-result p{margin:0;font-size:0.8em;color:var(--muted);line-height:1.4}
    .hero{text-align:center}
    .hero::before{left:50%;right:auto;transform:translate(-50%, -10%) rotate(0deg)}
    .w{display:inline-block;position:relative;transition:transform .18s ease, text-shadow .25s ease, color .25s ease}
    .w:hover{transform:translateY(-1px);text-shadow:0 2px 10px color-mix(in oklab, var(--accent) 30%, transparent)}
    .w::after{content:"";position:absolute;left:0;right:0;bottom:-2px;height:1px;width:0;margin-inline:auto;background:var(--accent);transition:width .25s ease}
    .w:hover::after{width:100%}
    
    /* GitHub Explore Section */
    .github-explore{position:relative;overflow:hidden}
    .github-explore::before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:conic-gradient(from 0deg, transparent 0deg, var(--accent) 180deg, transparent 360deg);opacity:0.03;animation:rotate 20s linear infinite;pointer-events:none}
    @keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
    .github-explore-content{display:flex;align-items:center;gap:20px;position:relative;z-index:1}
    .github-explore-icon{flex-shrink:0;width:60px;height:60px;background:linear-gradient(135deg, var(--accent), color-mix(in oklab, var(--accent) 80%, var(--info)));border-radius:16px;display:flex;align-items:center;justify-content:center;color:var(--bg);box-shadow:0 8px 24px color-mix(in oklab, var(--accent) 25%, transparent)}
    .github-explore-text{flex:1;min-width:0}
    .github-explore-text h3{margin:0 0 8px;font-size:1.3em;color:var(--text);font-weight:600}
    .github-explore-text p{margin:0;color:var(--muted);line-height:1.5;font-size:0.95em}
    .github-explore-action{flex-shrink:0}
    .github-explore-btn{display:inline-flex;align-items:center;gap:8px;background:var(--bg-soft);border:1px solid var(--border);color:var(--text);padding:12px 20px;border-radius:12px;text-decoration:none;font:inherit;font-weight:500;transition:all .25s ease;position:relative;overflow:hidden}
    .github-explore-btn::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, color-mix(in oklab, var(--accent) 10%, transparent), transparent);transition:left .5s ease}
    .github-explore-btn:hover::before{left:100%}
    .github-explore-btn:hover{border-color:var(--accent);color:var(--accent);transform:translateY(-2px);box-shadow:0 8px 24px color-mix(in oklab, var(--accent) 15%, transparent)}
    @media (max-width: 640px){
      .github-explore-content{flex-direction:column;text-align:center;gap:16px}
      .github-explore-text{text-align:center}
    }
    
    /* GitHub Contributions Styling */
    .github-actions{display:flex;gap:16px;align-items:center;flex-wrap:wrap}
    .contributions-btn{background:var(--accent);color:var(--bg);border:none;padding:8px 16px;border-radius:6px;font:inherit;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none;display:inline-flex;align-items:center;gap:4px}
    .contributions-btn:hover{background:color-mix(in oklab, var(--accent) 90%, var(--text));transform:translateY(-1px);box-shadow:0 4px 12px color-mix(in oklab, var(--accent) 25%, transparent)}
    .github-stats{display:flex;flex-direction:column;gap:12px;margin:16px 0}
    .stat-row{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--border)}
    .stat-row:last-child{border-bottom:none}
    .stat-label{color:var(--muted);font-size:0.9em}
    .stat-value{color:var(--accent);font-weight:600;font-size:1.1em;min-width:40px;text-align:right}
    .recent-activity{min-height:120px;margin:16px 0}
    .activity-item{display:flex;align-items:center;gap:12px;padding:12px;border:1px solid var(--border);border-radius:8px;margin-bottom:8px;transition:all .2s ease}
    .activity-item:hover{border-color:var(--accent);background:color-mix(in oklab, var(--accent) 5%, var(--bg-soft))}
    .activity-icon{width:20px;height:20px;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:12px;background:var(--accent);color:var(--bg)}
    .activity-content{flex:1;min-width:0}
    .activity-title{font-weight:500;margin:0 0 2px;font-size:0.9em;color:var(--text)}
    .activity-desc{font-size:0.8em;color:var(--muted);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .activity-time{font-size:0.75em;color:var(--subtle);white-space:nowrap}
    .loading-placeholder{text-align:center;color:var(--muted);font-style:italic;padding:40px 0}
    
    /* Sync Status Indicator */
    .sync-indicator{display:inline-flex;align-items:center;gap:6px;font-size:0.85em}
    .sync-dot{width:8px;height:8px;border-radius:50%;background:var(--muted);transition:all .3s ease}
    .sync-dot.syncing{background:var(--warning);animation:pulse 1.5s ease-in-out infinite}
    .sync-dot.synced{background:var(--success)}
    .sync-dot.error{background:var(--warning)}
    @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
    .sync-text{color:var(--muted);transition:color .3s ease}
    .sync-indicator.syncing .sync-text{color:var(--warning)}
    .sync-indicator.synced .sync-text{color:var(--success)}
    .sync-indicator.error .sync-text{color:var(--warning)}
    
    /* Contributions Page Modal */
    .contributions-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:color-mix(in oklab, var(--bg) 95%, transparent);backdrop-filter:blur(8px);z-index:1000;display:flex;align-items:center;justify-content:center;padding:20px;overflow-y:auto}
    .contributions-container{background:var(--card);border:1px solid var(--border);border-radius:16px;width:min(900px, 100%);max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px color-mix(in oklab, var(--accent) 20%, transparent)}
    .contributions-page-header{display:flex;justify-content:space-between;align-items:center;padding:24px 24px 16px;border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--card);z-index:10}
    .contributions-page-header h1{margin:0;font-size:1.5em;color:var(--text)}
    .close-btn{background:none;border:none;font-size:24px;color:var(--muted);cursor:pointer;padding:8px;border-radius:8px;transition:all .2s ease;line-height:1}
    .close-btn:hover{background:var(--bg-soft);color:var(--text)}
    .contributions-filters{display:flex;gap:8px;padding:16px 24px;flex-wrap:wrap;border-bottom:1px solid var(--border)}
    .filter-btn{background:var(--bg-soft);border:1px solid var(--border);color:var(--muted);padding:8px 16px;border-radius:20px;font:inherit;font-size:0.85em;cursor:pointer;transition:all .2s ease}
    .filter-btn:hover{border-color:var(--accent);color:var(--text)}
    .filter-btn.active{background:var(--accent);border-color:var(--accent);color:var(--bg);font-weight:500}
    .contributions-list{padding:24px}
    .contribution-item{display:flex;gap:16px;padding:16px;border:1px solid var(--border);border-radius:12px;margin-bottom:12px;transition:all .2s ease;background:var(--bg-soft)}
    .contribution-item:hover{border-color:var(--accent);background:color-mix(in oklab, var(--accent) 5%, var(--card));transform:translateY(-1px)}
    .contribution-icon{width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:18px;background:var(--accent);color:var(--bg);flex-shrink:0}
    .contribution-content{flex:1;min-width:0}
    .contribution-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}
    .contribution-title{font-weight:600;color:var(--text);margin:0;font-size:1em;text-decoration:none}
    .contribution-title:hover{color:var(--accent)}
    .contribution-date{font-size:0.8em;color:var(--subtle);white-space:nowrap}
    .contribution-desc{color:var(--muted);margin:0 0 8px;font-size:0.9em;line-height:1.4}
    .contribution-meta{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .contribution-repo{font-size:0.8em;color:var(--accent);text-decoration:none;font-weight:500}
    .contribution-repo:hover{text-decoration:underline}
    .contribution-stats{display:flex;gap:8px;font-size:0.75em;color:var(--muted)}
    .contribution-type{padding:2px 8px;border-radius:12px;font-size:0.7em;text-transform:uppercase;letter-spacing:0.5px;font-weight:600}
    .type-commit{background:color-mix(in oklab, var(--success) 15%, transparent);color:var(--success);border:1px solid color-mix(in oklab, var(--success) 30%, transparent)}
    .type-pr{background:color-mix(in oklab, var(--accent) 15%, transparent);color:var(--accent);border:1px solid color-mix(in oklab, var(--accent) 30%, transparent)}
    .type-issue{background:color-mix(in oklab, var(--warning) 15%, transparent);color:var(--warning);border:1px solid color-mix(in oklab, var(--warning) 30%, transparent)}
    .type-repo{background:color-mix(in oklab, var(--info) 15%, transparent);color:var(--info);border:1px solid color-mix(in oklab, var(--info) 30%, transparent)}
    .loading-contributions{text-align:center;padding:60px 20px}
    .loading-spinner{width:40px;height:40px;border:3px solid var(--border);border-top:3px solid var(--accent);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 16px}
    @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
    .no-contributions{text-align:center;padding:60px 20px;color:var(--muted)}
    
    @media (max-width: 768px) {
      .github-actions{flex-direction:column;align-items:stretch;gap:8px}
      .contributions-btn{justify-content:center}
      .github-stats{gap:8px}
      .stat-row{padding:6px 0;font-size:0.9em}
      .stat-label{font-size:0.85em}
      .stat-value{font-size:1em}
      .contributions-container{margin:10px;width:calc(100% - 20px);max-height:95vh}
      .contributions-page-header{padding:16px;flex-direction:column;gap:12px;align-items:stretch}
      .close-btn{position:absolute;top:16px;right:16px}
      .contributions-filters{padding:12px 16px;gap:6px}
      .filter-btn{padding:6px 12px;font-size:0.8em}
      .contributions-list{padding:16px}
      .contribution-item{flex-direction:column;gap:12px}
      .contribution-header{flex-direction:column;gap:4px}
      .contribution-meta{flex-direction:column;align-items:flex-start;gap:8px}
    }
    
    /* Social Media Buttons Styles */
    .social-links{display:flex;flex-direction:column;gap:12px;margin-top:20px}
    .social-btn{display:flex;align-items:center;gap:16px;padding:16px 20px;border:1px solid var(--border);border-radius:16px;text-decoration:none;color:var(--text);background:var(--bg-soft);transition:all 0.3s ease;position:relative;overflow:hidden}
    .social-btn::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, color-mix(in oklab, var(--accent) 8%, transparent), transparent);transition:left 0.6s ease}
    .social-btn:hover::before{left:100%}
    .social-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px color-mix(in oklab, var(--accent) 15%, transparent)}
    .social-icon{width:24px;height:24px;flex-shrink:0;transition:transform 0.3s ease}
    .social-btn:hover .social-icon{transform:scale(1.1)}
    .social-text{display:flex;flex-direction:column;gap:2px;min-width:0}
    .social-label{font-weight:600;font-size:1em;color:var(--text)}
    .social-handle{font-size:0.85em;color:var(--muted);opacity:0.8}
    
    /* Platform-specific colors */
    .github-btn{border-color:color-mix(in oklab, #333 30%, var(--border))}
    .github-btn:hover{border-color:#333;color:#333}
    [data-theme="dark"] .github-btn:hover{color:#fff}
    
    .email-btn{border-color:color-mix(in oklab, #6d4aff 30%, var(--border))}
    .email-btn:hover{border-color:#6d4aff;color:#6d4aff}
    
    .linkedin-btn{border-color:color-mix(in oklab, #0077b5 30%, var(--border))}
    .linkedin-btn:hover{border-color:#0077b5;color:#0077b5}
    
    .gitlab-btn{border-color:color-mix(in oklab, #fc6d26 30%, var(--border))}
    .gitlab-btn:hover{border-color:#fc6d26;color:#fc6d26}
    
    .instagram-btn{border-color:color-mix(in oklab, #e4405f 30%, var(--border))}
    .instagram-btn:hover{border-color:#e4405f;color:#e4405f}
    
    /* Responsive adjustments */
    @media(max-width:640px){
      .social-btn{padding:14px 16px;gap:12px}
      .social-icon{width:20px;height:20px}
      .social-label{font-size:0.95em}
      .social-handle{font-size:0.8em}
    }

    /* Project Page Styles */
    .project-page{position:fixed;top:0;left:0;right:0;bottom:0;background:var(--bg);z-index:1000;overflow-y:auto;opacity:0;transform:translateY(20px);transition:all 0.3s ease}
    .project-page.show{opacity:1;transform:translateY(0)}
    .project-page-content{min-height:100vh;display:flex;flex-direction:column}
    .project-header{background:var(--card);border-bottom:1px solid var(--border);padding:20px;position:sticky;top:0;backdrop-filter:saturate(120%) blur(8px);background:color-mix(in oklab,var(--bg) 85%,transparent);z-index:10}
    .project-nav{margin-bottom:16px}
    .btn-ghost{background:transparent;border:1px solid var(--border);color:var(--muted)}
    .btn-ghost:hover{background:var(--card);color:var(--text);border-color:var(--accent)}
    .development-banner{display:flex;align-items:center;justify-content:center;gap:12px;background:linear-gradient(135deg, var(--accent), var(--info));color:white;padding:12px 24px;border-radius:12px;font-weight:600;font-size:0.9em;animation:bannerPulse 3s ease-in-out infinite}
    .banner-icon,.banner-sparkle{font-size:1.2em;animation:sparkle 2s ease-in-out infinite}
    .banner-sparkle{animation-delay:1s}
    @keyframes bannerPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.02)}}
    @keyframes sparkle{0%,100%{transform:rotate(0deg) scale(1)}25%{transform:rotate(-10deg) scale(1.1)}75%{transform:rotate(10deg) scale(1.1)}}
    .project-main{flex:1;padding-top:40px}
    .project-hero{text-align:center;margin-bottom:60px}
    .project-hero h1{font-size:clamp(32px,5vw,56px);margin:0 0 16px;line-height:1.1}
    .project-type{color:var(--muted);font-size:0.6em;font-weight:400;text-transform:uppercase;letter-spacing:2px}
    .project-tagline{font-size:1.3em;color:var(--muted);margin:0 0 32px;max-width:50ch;margin-left:auto;margin-right:auto}
    .project-links{display:flex;gap:16px;justify-content:center;flex-wrap:wrap}
    .btn-primary{background:var(--accent);color:white;border-color:var(--accent)}
    .btn-primary:hover{background:color-mix(in oklab,var(--accent) 85%,black);transform:translateY(-1px)}
    .btn-secondary{background:var(--card);border-color:var(--border)}
    .btn-secondary.disabled{opacity:0.6;cursor:not-allowed}
    .btn-link{background:none;border:none;color:var(--accent);text-decoration:none;padding:0;font-weight:500;cursor:pointer}
    .btn-link:hover{text-decoration:underline;color:color-mix(in oklab,var(--accent) 80%,black)}
    .autorepro-card:hover{cursor:pointer}
    .autorepro-card:focus{outline:2px solid var(--accent);outline-offset:2px}
    .coming-soon{font-size:0.8em;color:var(--muted)}
    .upcoming-project{background:linear-gradient(135deg, color-mix(in oklab, var(--info) 6%, var(--card)), var(--card));border:1px solid color-mix(in oklab, var(--info) 15%, var(--border));margin:32px 0;position:relative;overflow:hidden}
    .upcoming-project::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg, var(--info), var(--accent), var(--info));opacity:0.6}
    .upcoming-project .project-icon{font-size:2.2em;margin-bottom:8px;display:block;filter:grayscale(0.3)}
    .upcoming-project h3{font-size:1.3em;margin:0 0 12px;color:var(--text);display:flex;align-items:center;flex-wrap:wrap}
    .upcoming-project .tagline{font-size:1.05em;color:color-mix(in oklab, var(--info) 75%, var(--text));font-weight:500;margin:0 0 12px}
    .upcoming-project:hover{border-color:color-mix(in oklab, var(--info) 25%, var(--border));transform:none}
    @media(prefers-reduced-motion:reduce){.upcoming-project{transition:none}.upcoming-project:hover{transform:none;box-shadow:none}}
    .project-summary{margin-bottom:60px}
    .project-summary h2{font-size:1.8em;margin:0 0 32px;text-align:center;color:var(--text)}
    .summary-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}
    .summary-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px;transition:all 0.2s ease}
    .summary-card:hover{border-color:color-mix(in oklab,var(--border) 50%,var(--accent));transform:translateY(-2px);box-shadow:0 8px 25px color-mix(in oklab,var(--accent) 10%,transparent)}
    .summary-card h3{margin:0 0 12px;font-size:1.1em;display:flex;align-items:center;gap:8px}
    .summary-card li{margin:4px 0;color:var(--muted)}
    .tech-tags{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .tech-tag{background:color-mix(in oklab,var(--accent) 15%,transparent);color:var(--accent);padding:4px 12px;border-radius:20px;font-size:0.85em;font-weight:500;border:1px solid color-mix(in oklab,var(--accent) 25%,transparent)}
    .project-activity h2{font-size:1.8em;margin:0 0 32px;text-align:center;color:var(--text)}
    .activity-container{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px;min-height:300px}
    .activity-loading{display:flex;align-items:center;justify-content:center;height:200px;color:var(--muted);font-style:italic}
    .activity-item{border-bottom:1px solid var(--border);padding:16px 0;display:flex;align-items:start;gap:12px}
    .activity-item:last-child{border-bottom:none}
    .activity-icon{width:20px;height:20px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;color:white;font-size:0.8em;flex-shrink:0;margin-top:2px}
    .activity-content h4{margin:0 0 4px;font-size:0.95em}
    .activity-content p{margin:0;color:var(--muted);font-size:0.9em;line-height:1.4}
    .activity-meta{display:flex;gap:12px;margin-top:8px;font-size:0.8em;color:var(--muted)}
    @media(max-width:768px){.project-links{flex-direction:column;align-items:center}.summary-grid{grid-template-columns:1fr}.project-hero h1{font-size:2.5em}.project-tagline{font-size:1.1em}}
  </style>
</head>
<body>
  <a class="skip" href="#content">Skip to content</a>
  <a class="skip" href="#github">Skip to GitHub</a>
  <a class="skip" href="#articles">Skip to articles</a>
  <a class="skip" href="#contact">Skip to contact</a>
  <header role="banner">
    <div class="wrap">
      <nav role="navigation" aria-label="Main navigation">
        <div class="brand" aria-label="Home">
          <span class="dot" aria-hidden="true"></span>
          <a href="/">Home</a>
        </div>
        <div class="nav-links">
          <a href="#github">GitHub</a>
          <a href="#articles">Articles</a>
          <button id="search-btn" class="btn" title="Search site" aria-label="Search site content">Search</button>
          <button id="theme" class="btn" title="Toggle theme" aria-label="Toggle between light and dark theme">Theme</button>
        </div>
      </nav>
    </div>
  </header>

  <main id="content" class="wrap" data-words="hover" role="main">
    <section class="hero" aria-labelledby="hero-heading">
      <h1 id="hero-heading" class="hero-title">Small, honest tools; usefulness is the only manifesto.</h1>
      <p>I build small tools that get used: tiny CLIs, sharp scripts, and pragmatic open‑source improvements. Full‑stack developer focused on Python, Rust, and JavaScript. This site is fast, no libraries, no external fonts.</p>
    <!-- Example image with lazy loading -->
    <img src="/images/profile.jpg" alt="Profile" loading="lazy" style="max-width:120px;border-radius:50%;margin:18px auto;display:block;box-shadow:0 2px 12px color-mix(in oklab,var(--accent) 10%,transparent);" />
      <div class="meta" style="margin-top: 14px; justify-content: center;">
        <span>Python</span>
        <span>•</span>
        <span>Rust</span>
        <span>•</span>
        <span>JavaScript</span>
        <span>•</span>
        <span>DevTools</span>
        <span>•</span>
        <span>CLI Applications</span>
      </div>
    </section>

    <section aria-labelledby="featured-heading">
      <h2 id="featured-heading" class="sr-only">Featured Project</h2>
      <div class="featured-project card" onclick="showAutoReproPage()" style="cursor: pointer;" tabindex="0" role="button" aria-label="Open AutoRepro project details" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();showAutoReproPage();}">
        <span class="project-icon" aria-hidden="true">⚡</span>
        <h3>AutoRepro</h3>
        <p class="tagline">Automate reproducibility, effortlessly</p>
        <p>Transform issue descriptions into reproducible steps and dev‑containers. Built for maintainers who need clear reproduction paths.</p>
        <div class="dev-status" id="dev-status">
          🧙‍♂️ The code wizards are still casting spells on this project
        </div>
      </div>
    </section>

    <section aria-labelledby="upcoming-heading">
      <h2 id="upcoming-heading" class="sr-only">Upcoming Project</h2>
      <div class="upcoming-project card" style="cursor: not-allowed; opacity: 0.8;">
        <span class="project-icon" aria-hidden="true">🚀</span>
        <h3>FosterPR <span style="font-size: 0.7em; color: var(--warning); font-weight: 500; background: color-mix(in oklab, var(--warning) 15%, var(--bg-soft)); padding: 2px 8px; border-radius: 12px; margin-left: 8px;">Coming Soon</span></h3>
        <p class="tagline">Foster better pull request workflows</p>
        <p>An intelligent PR management tool designed to streamline code review processes, enhance collaboration, and foster better development practices across teams. Features automated review assignment, workflow optimization, and team performance analytics.</p>
        <div class="upcoming-status" style="background: color-mix(in oklab, var(--info) 15%, var(--bg-soft)); border: 1px solid color-mix(in oklab, var(--info) 30%, var(--border)); border-radius: 8px; padding: 12px 16px; margin: 16px 0 0; font-size: 0.9em; color: var(--info); font-weight: 500; display: flex; align-items: center; gap: 8px;">
          <span>🔬</span>
          <span>Currently in the research and planning phase - Expected Q4 2025</span>
        </div>
        <div style="margin-top: 12px; display: flex; gap: 12px; flex-wrap: wrap; font-size: 0.85em;">
          <span style="background: color-mix(in oklab, var(--accent) 15%, var(--bg-soft)); color: var(--accent); padding: 4px 10px; border-radius: 16px; border: 1px solid color-mix(in oklab, var(--accent) 25%, transparent);">GitHub Integration</span>
          <span style="background: color-mix(in oklab, var(--success) 15%, var(--bg-soft)); color: var(--success); padding: 4px 10px; border-radius: 16px; border: 1px solid color-mix(in oklab, var(--success) 25%, transparent);">Team Analytics</span>
          <span style="background: color-mix(in oklab, var(--info) 15%, var(--bg-soft)); color: var(--info); padding: 4px 10px; border-radius: 16px; border: 1px solid color-mix(in oklab, var(--info) 25%, transparent);">Workflow Automation</span>
        </div>
      </div>
    </section>

    <section id="github" aria-labelledby="github-heading">
      <header>
        <h2 id="github-heading">GitHub Activity</h2>
      </header>
      <div class="grid">
        <article class="card">
          <h3>GitHub Activity</h3>
          <div class="github-stats">
            <div class="stat-row">
              <span class="stat-label">Commits this year:</span>
              <span class="stat-value" id="commits-count">--</span>
            </div>
            <div class="stat-row">
              <span class="stat-label">Pull requests:</span>
              <span class="stat-value" id="prs-count">--</span>
            </div>
            <div class="stat-row">
              <span class="stat-label">Issues opened:</span>
              <span class="stat-value" id="issues-count">--</span>
            </div>
            <div class="stat-row">
              <span class="stat-label">Public repositories:</span>
              <span class="stat-value" id="repos-count">--</span>
            </div>
          </div>
          <div class="meta">
            <span>Real-time data</span>
            <span>•</span>
            <span id="last-updated">Loading...</span>
            <span>•</span>
            <span id="sync-status" class="sync-indicator">
              <span class="sync-dot"></span>
              <span class="sync-text">Syncing...</span>
            </span>
          </div>
        </article>
        <article class="card github-explore">
          <div class="github-explore-content">
            <div class="github-explore-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0.297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
              </svg>
            </div>
            <div class="github-explore-text">
              <h3>Explore All Contributions</h3>
              <p>View all my projects and contributions on GitHub, from open source to personal projects</p>
            </div>
            <div class="github-explore-action">
              <a href="https://github.com/ali90h" target="_blank" rel="noopener noreferrer" class="github-explore-btn">
                <span>Browse Contributions</span>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M7 17L17 7"/>
                  <path d="M7 7h10v10"/>
                </svg>
              </a>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- Contributions Page Modal -->
    <div id="contributions-page" class="contributions-overlay" style="display: none;">
      <div class="contributions-container">
        <header class="contributions-page-header">
          <h1>GitHub Contributions</h1>
          <button onclick="hideContributions()" class="close-btn" aria-label="Close contributions page">×</button>
        </header>
        <div class="contributions-filters">
          <button class="filter-btn active" onclick="filterContributions('all')" data-filter="all">All</button>
          <button class="filter-btn" onclick="filterContributions('commits')" data-filter="commits">Commits</button>
          <button class="filter-btn" onclick="filterContributions('prs')" data-filter="prs">Pull Requests</button>
          <button class="filter-btn" onclick="filterContributions('issues')" data-filter="issues">Issues</button>
          <button class="filter-btn" onclick="filterContributions('repos')" data-filter="repos">Repositories</button>
        </div>
        <div class="contributions-list" id="contributions-list">
          <div class="loading-contributions">
            <div class="loading-spinner"></div>
            <p>Loading all contributions from GitHub...</p>
          </div>
        </div>
      </div>
    </div>

    <section id="articles" aria-labelledby="articles-heading">
      <header><h2 id="articles-heading">Articles</h2></header>
      <div class="articles-coming-soon" style="text-align: center; padding: 60px 20px; background: var(--card); border: 1px solid var(--border); border-radius: 16px; margin: 20px 0;">
        <div style="font-size: 3em; margin-bottom: 16px; opacity: 0.7;">📝</div>
        <h3 style="margin: 0 0 16px; font-size: 1.4em; color: var(--text);">Technical Articles Coming Soon</h3>
        <p style="margin: 0 0 24px; color: var(--muted); max-width: 60ch; margin-left: auto; margin-right: auto; line-height: 1.6;">
          I'm preparing a collection of in-depth technical articles covering developer tools, automation workflows, and practical programming insights. Topics will include CLI development, DevOps best practices, and lessons learned from building production-ready tools.
        </p>
        <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; margin-top: 24px;">
          <span style="background: color-mix(in oklab, var(--accent) 15%, var(--bg-soft)); color: var(--accent); padding: 6px 14px; border-radius: 20px; font-size: 0.9em; font-weight: 500; border: 1px solid color-mix(in oklab, var(--accent) 25%, transparent);">🔧 Developer Tools</span>
          <span style="background: color-mix(in oklab, var(--info) 15%, var(--bg-soft)); color: var(--info); padding: 6px 14px; border-radius: 20px; font-size: 0.9em; font-weight: 500; border: 1px solid color-mix(in oklab, var(--info) 25%, transparent);">⚙️ Automation</span>
          <span style="background: color-mix(in oklab, var(--success) 15%, var(--bg-soft)); color: var(--success); padding: 6px 14px; border-radius: 20px; font-size: 0.9em; font-weight: 500; border: 1px solid color-mix(in oklab, var(--success) 25%, transparent);">🚀 Best Practices</span>
          <span style="background: color-mix(in oklab, var(--warning) 15%, var(--bg-soft)); color: var(--warning); padding: 6px 14px; border-radius: 20px; font-size: 0.9em; font-weight: 500; border: 1px solid color-mix(in oklab, var(--warning) 25%, transparent);">💡 Lessons Learned</span>
        </div>
        <div style="margin-top: 32px; padding: 16px; background: color-mix(in oklab, var(--info) 8%, var(--bg-soft)); border: 1px solid color-mix(in oklab, var(--info) 20%, var(--border)); border-radius: 12px; font-size: 0.9em; color: var(--info);">
          <strong>📅 Expected Launch:</strong> Q1 2026 • <strong>🎯 Focus:</strong> Practical, actionable content for developers
        </div>
      </div>
    </section>

    <section id="contact" aria-labelledby="contact-heading">
      <header><h2 id="contact-heading">Contact</h2></header>
      <div class="grid">
        <div class="card span-6">
          <h3>Let's Connect</h3>
          <p>Available for collaboration on developer tools, open source projects, and technical consultation.</p>
          
          <div class="social-links">
            <a href="https://github.com/ali90h" target="_blank" rel="noopener noreferrer" class="social-btn github-btn" aria-label="Visit GitHub Profile">
              <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0.297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
              </svg>
              <span class="social-text">
                <span class="social-label">GitHub</span>
                <span class="social-handle">@ali90h</span>
              </span>
            </a>

            <a href="mailto:ali90h7@pm.me" class="social-btn email-btn" aria-label="Send Email">
              <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C13.1 2 14 2.9 14 4V8C14 9.1 13.1 10 12 10C10.9 10 10 9.1 10 8V4C10 2.9 10.9 2 12 2ZM21 9V7L19 5H17V9H21ZM7 5H5L3 7V9H7V5ZM21 11H19V13C19 14.1 18.1 15 17 15H15V17C15 18.1 14.1 19 13 19H11C9.9 19 9 18.1 9 17V15H7C5.9 15 5 14.1 5 13V11H3V21C3 22.1 3.9 23 5 23H19C20.1 23 21 22.1 21 21V11Z"/>
              </svg>
              <span class="social-text">
                <span class="social-label">ProtonMail</span>
                <span class="social-handle">ali90h7@pm.me</span>
              </span>
            </a>

            <a href="https://linkedin.com/in/ali90h" target="_blank" rel="noopener noreferrer" class="social-btn linkedin-btn" aria-label="Visit LinkedIn Profile">
              <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
              </svg>
              <span class="social-text">
                <span class="social-label">LinkedIn</span>
                <span class="social-handle">Connect</span>
              </span>
            </a>

            <a href="https://gitlab.com/ali90h" target="_blank" rel="noopener noreferrer" class="social-btn gitlab-btn" aria-label="Visit GitLab Profile">
              <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"/>
              </svg>
              <span class="social-text">
                <span class="social-label">GitLab</span>
                <span class="social-handle">@ali90h</span>
              </span>
            </a>

            <a href="https://instagram.com/ali90h" target="_blank" rel="noopener noreferrer" class="social-btn instagram-btn" aria-label="Visit Instagram Profile">
              <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
              </svg>
              <span class="social-text">
                <span class="social-label">Instagram</span>
                <span class="social-handle">@ali90h</span>
              </span>
            </a>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <span>© <span id="year"></span> Built by hand. No build step.</span>
      <div style="display:flex;gap:12px;align-items:center">
        <a class="inline" href="/rss.xml">RSS</a>
        <a class="inline" href="https://twitter.com/intent/tweet?url=https://ali90h.github.io&text=Small,%20honest%20tools" target="_blank" rel="noopener">Share</a>
      </div>
    </footer>
  </main>

  <!-- Live region for announcements -->
  <div id="announcements" aria-live="polite" aria-atomic="true" style="position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden;"></div>

  <!-- Search Modal -->
  <div id="search-modal" class="search-modal">
    <div class="search-box">
      <input type="text" id="search-input" class="search-input" placeholder="Search projects, writing, and more..." aria-label="Search">
      <div id="search-results" class="search-results"></div>
      <p style="text-align:center;margin:16px 0 0;font-size:0.8em;color:var(--muted)">Press Escape to close</p>
    </div>
  </div>

  <!-- AutoRepro Project Page -->
  <div id="autorepro-page" class="project-page" style="display: none;">
    <div class="project-page-content">
      <header class="project-header">
        <div class="project-nav">
          <button id="back-to-home" class="btn btn-ghost" aria-label="Back to homepage">
            <span>←</span> Back to Home
          </button>
        </div>
        <div class="development-banner" id="dev-banner">
          <span class="banner-icon">🔮</span>
          <span id="banner-message">Under Development</span>
          <span class="banner-sparkle">✨</span>
        </div>
      </header>

      <main class="project-main wrap">
        <section class="project-hero">
          <h1>AutoRepro <span class="project-type">CLI Tool</span></h1>
          <p class="project-tagline">Transform issue descriptions into reproducible steps and dev‑containers</p>
          <div class="project-links">
            <a href="https://github.com/ali90h/AutoRepro" class="btn btn-primary" target="_blank" rel="noopener">
              <span>🔗 GitHub Repository</span>
              <span>→</span>
            </a>
            <a href="#" class="btn btn-secondary disabled" aria-disabled="true">
              <span>📚 Documentation</span>
              <span class="coming-soon">(Coming Soon)</span>
            </a>
            <button onclick="hideAutoReproPage()" class="btn btn-secondary">
              <span>🏠 Back to Home</span>
            </button>
          </div>
        </section>

        <section class="project-summary">
          <h2>Project Overview</h2>
          <div class="summary-grid">
            <div class="summary-card">
              <h3>🎯 Problem It Solves</h3>
              <p>Issue reproduction is often a time-consuming, error-prone process. Maintainers struggle to understand bug reports, set up environments, and reproduce problems consistently.</p>
            </div>
            <div class="summary-card">
              <h3>⚡ Key Features</h3>
              <ul>
                <li>Automated environment scanning and analysis</li>
                <li>Dev-container generation for consistent reproduction</li>
                <li>Step-by-step reproduction planning</li>
                <li>Execution monitoring and reporting</li>
                <li>Integration with popular issue trackers</li>
              </ul>
            </div>
            <div class="summary-card">
              <h3>🛠️ Technology Stack</h3>
              <div class="tech-tags">
                <span class="tech-tag">Python</span>
                <span class="tech-tag">Docker</span>
                <span class="tech-tag">CLI</span>
                <span class="tech-tag">Dev-containers</span>
                <span class="tech-tag">GitHub API</span>
              </div>
            </div>
            <div class="summary-card">
              <h3>🎭 Development Philosophy</h3>
              <p>Built for maintainers who value clear reproduction paths. Focus on automation without losing the human touch—tools that enhance rather than replace developer intuition.</p>
            </div>
          </div>
        </section>

        <section class="project-activity">
          <h2>Repository Activity</h2>
          <div class="activity-container" id="autorepro-activity">
            <div class="activity-loading">
              <span>Loading latest activity...</span>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <script>
    const btn = document.getElementById('theme');
    const root = document.documentElement;
    const announcements = document.getElementById('announcements');
    const saved = localStorage.getItem('theme');
    if(saved) root.setAttribute('data-theme', saved);
    
    function announceTheme(theme) {
      announcements.textContent = `Theme changed to ${theme} mode`;
    }
    
    btn.addEventListener('click', () => {
      const next = root.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      root.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      announceTheme(next);
        // تحسين التبديل: إضافة تأثيرات انتقال سلسة
        document.body.style.transition = 'background 0.4s, color 0.4s';
        setTimeout(() => { document.body.style.transition = ''; }, 500);
      });
    
    document.getElementById('year').textContent = new Date().getFullYear();
    
    // Rotating development messages for AutoRepro
    const developmentMessages = [
      "👩‍💻 Currently being built with excessive amounts of coffee and determination",
      "🧙‍♂️ The code wizards are still casting spells on this project", 
      "🔮 AutoRepro is evolving - we're teaching it tricks while it's in the digital incubator",
      "🚧 Under construction: Bits and bytes are still finding their perfect spots",
      "🧪 In the lab: We're mixing code potions to make AutoRepro magical"
    ];
    
    function setRandomDevMessage() {
      const devStatus = document.getElementById('dev-status');
      if (devStatus) {
        const randomMessage = developmentMessages[Math.floor(Math.random() * developmentMessages.length)];
        devStatus.textContent = randomMessage;
      }
    }
    
    // Set initial random message
    setRandomDevMessage();
    
    // Search functionality
    const searchBtn = document.getElementById('search-btn');
    const searchModal = document.getElementById('search-modal');
    const searchInput = document.getElementById('search-input');
    const searchResults = document.getElementById('search-results');
    
    const searchData = [
      {title: 'AutoRepro CLI', content: 'Transform issue descriptions into reproducible steps and dev-containers. Scan Init Plan Exec Report. Built for maintainers who need clear reproduction paths.', url: 'javascript:showAutoReproPage()', type: 'project'},
      {title: 'AutoRepro Project Details', content: 'Dedicated page with project summary, GitHub activity feed, development status, and technical details. Problem solving, key features, technology stack.', url: 'javascript:showAutoReproPage()', type: 'project'},
      {title: 'FosterPR - Coming Soon', content: 'Foster better pull request workflows. An intelligent PR management tool designed to streamline code review processes, enhance collaboration, and foster better development practices across teams.', url: '#', type: 'upcoming'},
      {title: 'Technical Articles Coming Soon', content: 'In-depth technical articles covering developer tools, automation workflows, and practical programming insights. Topics include CLI development, DevOps best practices, and lessons learned from building production-ready tools.', url: '#articles', type: 'articles'},
      {title: 'Open Source Contributions', content: '73% commits, 14% code reviews, 11% pull requests across the ecosystem. Focus on developer tooling, performance optimizations, and documentation improvements.', url: '#github', type: 'activity'},
      {title: 'Current Focus', content: 'Building AutoRepro CLI for issue reproduction, exploring Rust for systems programming, and contributing to open source projects that improve developer experience.', url: '#github', type: 'activity'}
    ];
    
    function showSearch() {
      searchModal.style.display = 'flex';
      searchInput.focus();
    }
    
    function hideSearch() {
      searchModal.style.display = 'none';
      searchInput.value = '';
      searchResults.innerHTML = '';
    }
    
    function search(query) {
      if (!query.trim()) {
        searchResults.innerHTML = '';
        return;
      }
      
      const results = searchData.filter(item => 
        item.title.toLowerCase().includes(query.toLowerCase()) || 
        item.content.toLowerCase().includes(query.toLowerCase())
      ).slice(0, 5);
      
      searchResults.innerHTML = results.map(item => 
        `<div class="search-result" data-url="${item.url}">
          <h4>${item.title}</h4>
          <p>${item.content.slice(0, 120)}...</p>
        </div>`
      ).join('');
    }
    
    searchBtn.addEventListener('click', showSearch);
    searchModal.addEventListener('click', e => e.target === searchModal && hideSearch());
    searchInput.addEventListener('input', e => search(e.target.value));
    searchResults.addEventListener('click', e => {
      const result = e.target.closest('.search-result');
      if (result) {
        const url = result.dataset.url;
        if (url.startsWith('javascript:')) {
          // Execute the JavaScript function
          eval(url.substring(11));
        } else {
          window.location.hash = url.slice(1);
        }
        hideSearch();
      }
    });
    
    document.addEventListener('keydown', e => {
      if (e.key === 'Escape' && searchModal.style.display === 'flex') {
        hideSearch();
      }
      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        showSearch();
      }
    });
    
    (function(){
      const root = document.querySelector('[data-words]');
      if(!root) return;
      const targets = root.querySelectorAll('h1, h2, h3, p');
      const shouldSkip = node => node.parentElement && (node.parentElement.closest('a') || node.parentElement.closest('code') || node.parentElement.closest('button'));
      
      for(const el of targets){
        const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT);
        const nodes = [];
        while(walker.nextNode()) nodes.push(walker.currentNode);
        for(const n of nodes){
          if(!n.nodeValue.trim() || shouldSkip(n)) continue;
          const parts = n.nodeValue.split(/(\s+)/);
          const newFrag = document.createDocumentFragment();
          for(const part of parts){
            if(/\s+/.test(part)) { newFrag.appendChild(document.createTextNode(part)); }
            else { const s = document.createElement('span'); s.className = 'w'; s.textContent = part; newFrag.appendChild(s); }
          }
          n.parentNode.replaceChild(newFrag, n);
        }
      }
    })();
    
    // Service Worker Registration
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').then(reg => {
            console.log('Service Worker registered!', reg);
          }).catch(err => {
            console.warn('Service Worker registration failed:', err);
          });
      });
    }
    
    // Content Management & Automation - Stage 6 Features
    
    // GitHub API Integration for Project Showcase
    class GitHubAPI {
      constructor() {
        this.baseURL = 'https://api.github.com';
        this.cache = new Map();
        this.rateLimitRemaining = 60;
        this.lastRateLimitCheck = 0;
      }
      
      async fetchRepo(owner, repo) {
        const cacheKey = `${owner}/${repo}`;
        const cached = this.cache.get(cacheKey);
        
        // Return cached data if it's less than 10 minutes old
        if (cached && (Date.now() - cached.timestamp) < 600000) {
          return cached.data;
        }
        
        try {
          const response = await fetch(`${this.baseURL}/repos/${owner}/${repo}`);
          
          // Update rate limit info
          this.rateLimitRemaining = parseInt(response.headers.get('X-RateLimit-Remaining')) || 0;
          this.lastRateLimitCheck = Date.now();
          
          if (response.ok) {
            const data = await response.json();
            this.cache.set(cacheKey, { data, timestamp: Date.now() });
            return data;
          } else {
            console.warn(`GitHub API error for ${cacheKey}:`, response.status);
            return null;
          }
        } catch (error) {
          console.warn(`Failed to fetch repo data for ${cacheKey}:`, error);
          return null;
        }
      }
      
      formatDate(dateString) {
        const date = new Date(dateString);
        const now = new Date();
        const diffMs = now - date;
        const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
        
        if (diffDays === 0) return 'Today';
        if (diffDays === 1) return 'Yesterday';
        if (diffDays < 30) return `${diffDays} days ago`;
        if (diffDays < 365) return `${Math.floor(diffDays / 30)} months ago`;
        return `${Math.floor(diffDays / 365)} years ago`;
      }
      
      getLanguageColor(language) {
        const colors = {
          'Python': '#3776ab',
          'JavaScript': '#f7df1e',
          'TypeScript': '#3178c6',
          'Rust': '#dea584',
          'Go': '#00add8',
          'HTML': '#e34c26',
          'CSS': '#1572b6',
          'Shell': '#89e051',
          'Dockerfile': '#384d54'
        };
        return colors[language] || '#6c757d';
      }
    }
    
    // Reading Time Calculation for Blog Posts
    function calculateReadingTime(text) {
      const wordsPerMinute = 200;
      const words = text.trim().split(/\s+/).length;
      const minutes = Math.ceil(words / wordsPerMinute);
      return minutes === 1 ? '1 min read' : `${minutes} min read`;
    }
    
    // Enhanced Content Management
    function updateReadingTimes() {
      const articles = document.querySelectorAll('#writing .card');
      articles.forEach(article => {
        const content = article.querySelector('p')?.textContent || '';
        const meta = article.querySelector('.meta');
        if (meta && content) {
          const readingTime = calculateReadingTime(content);
          const readingSpan = meta.querySelector('[data-reading-time]');
          if (readingSpan) {
            readingSpan.textContent = readingTime;
          }
        }
      });
    }
    
    // Performance Monitoring using Web APIs
    class PerformanceMonitor {
      constructor() {
        this.metrics = {};
        this.startTime = performance.now();
      }
      
      measureCoreWebVitals() {
        // Largest Contentful Paint (LCP)
        if ('PerformanceObserver' in window) {
          try {
            const lcpObserver = new PerformanceObserver((list) => {
              const entries = list.getEntries();
              const lastEntry = entries[entries.length - 1];
              this.metrics.lcp = lastEntry.startTime;
            });
            lcpObserver.observe({entryTypes: ['largest-contentful-paint']});
            
            // Cumulative Layout Shift (CLS)
            const clsObserver = new PerformanceObserver((list) => {
              let clsValue = 0;
              for (const entry of list.getEntries()) {
                if (!entry.hadRecentInput) {
                  clsValue += entry.value;
                }
              }
              this.metrics.cls = clsValue;
            });
            clsObserver.observe({entryTypes: ['layout-shift']});
            
            // First Input Delay (FID)
            const fidObserver = new PerformanceObserver((list) => {
              for (const entry of list.getEntries()) {
                this.metrics.fid = entry.processingStart - entry.startTime;
              }
            });
            fidObserver.observe({entryTypes: ['first-input']});
          } catch (error) {
            console.warn('Performance monitoring not fully supported:', error);
          }
        }
        
        // Time to Interactive (TTI) approximation
        window.addEventListener('load', () => {
          this.metrics.tti = performance.now() - this.startTime;
        });
      }
      
      getMetrics() {
        return {
          ...this.metrics,
          loadTime: performance.now() - this.startTime,
          connectionType: navigator.connection?.effectiveType || 'unknown',
          deviceMemory: navigator.deviceMemory || 'unknown'
        };
      }
      
      logMetrics() {
        const metrics = this.getMetrics();
        console.group('🚀 Performance Metrics');
        console.log('Load Time:', Math.round(metrics.loadTime), 'ms');
        if (metrics.lcp) console.log('LCP:', Math.round(metrics.lcp), 'ms');
        if (metrics.fid) console.log('FID:', Math.round(metrics.fid), 'ms');
        if (metrics.cls) console.log('CLS:', metrics.cls.toFixed(4));
        if (metrics.tti) console.log('TTI:', Math.round(metrics.tti), 'ms');
        console.log('Connection:', metrics.connectionType);
        console.log('Device Memory:', metrics.deviceMemory, 'GB');
        console.groupEnd();
      }
    }
    
    // Privacy-focused Analytics
    class PrivacyAnalytics {
      constructor() {
        this.sessionId = this.generateSessionId();
        this.pageViewTime = Date.now();
        this.events = [];
      }
      
      generateSessionId() {
        return Math.random().toString(36).substring(2, 15);
      }
      
      trackEvent(event, data = {}) {
        this.events.push({
          event,
          data,
          timestamp: Date.now(),
          session: this.sessionId
        });
        
        // Keep only last 50 events to prevent memory issues
        if (this.events.length > 50) {
          this.events.shift();
        }
      }
      
      trackPageView() {
        this.trackEvent('page_view', {
          path: window.location.pathname,
          referrer: document.referrer,
          userAgent: navigator.userAgent.substring(0, 100),
          language: navigator.language,
          screenSize: `${screen.width}x${screen.height}`,
          viewportSize: `${window.innerWidth}x${window.innerHeight}`
        });
      }
      
      getAnalytics() {
        return {
          sessionDuration: Date.now() - this.pageViewTime,
          eventsCount: this.events.length,
          lastEvents: this.events.slice(-10),
          uniqueEvents: [...new Set(this.events.map(e => e.event))]
        };
      }
    }
    
    // Error Tracking
    class ErrorTracker {
      constructor() {
        this.errors = [];
        this.setupGlobalErrorHandling();
      }
      
      setupGlobalErrorHandling() {
        window.addEventListener('error', (event) => {
          this.logError({
            type: 'javascript',
            message: event.message,
            filename: event.filename,
            lineno: event.lineno,
            colno: event.colno,
            stack: event.error?.stack,
            timestamp: Date.now()
          });
        });
        
        window.addEventListener('unhandledrejection', (event) => {
          this.logError({
            type: 'promise',
            message: event.reason?.message || 'Unhandled promise rejection',
            stack: event.reason?.stack,
            timestamp: Date.now()
          });
        });
      }
      
      logError(error) {
        this.errors.push(error);
        console.warn('🚨 Error tracked:', error);
        
        // Keep only last 20 errors
        if (this.errors.length > 20) {
          this.errors.shift();
        }
      }
      
      getErrors() {
        return this.errors;
      }
    }
    
    // Accessibility Monitor
    class AccessibilityMonitor {
      constructor() {
        this.issues = [];
      }
      
      checkAccessibility() {
        this.issues = [];
        
        // Check for missing alt text
        const images = document.querySelectorAll('img:not([alt])');
        if (images.length > 0) {
          this.issues.push(`${images.length} images missing alt text`);
        }
        
        // Check for proper heading hierarchy
        const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
        let lastLevel = 0;
        headings.forEach(heading => {
          const level = parseInt(heading.tagName.slice(1));
          if (level > lastLevel + 1) {
            this.issues.push(`Heading hierarchy jump from H${lastLevel} to H${level}`);
          }
          lastLevel = level;
        });
        
        // Check for links without accessible names
        const links = document.querySelectorAll('a:not([aria-label]):not([title])');
        links.forEach(link => {
          if (!link.textContent.trim()) {
            this.issues.push('Link without accessible name found');
          }
        });
        
        // Check for buttons without accessible names
        const buttons = document.querySelectorAll('button:not([aria-label]):not([title])');
        buttons.forEach(button => {
          if (!button.textContent.trim()) {
            this.issues.push('Button without accessible name found');
          }
        });
        
        return this.issues;
      }
      
      logAccessibilityReport() {
        const issues = this.checkAccessibility();
        console.group('♿ Accessibility Report');
        if (issues.length === 0) {
          console.log('✅ No accessibility issues detected');
        } else {
          console.warn(`⚠️ ${issues.length} accessibility issues found:`);
          issues.forEach(issue => console.warn(`  • ${issue}`));
        }
        console.groupEnd();
      }
    }
    
    // Initialize Stage 6 Features
    const gitHubAPI = new GitHubAPI();
    const performanceMonitor = new PerformanceMonitor();
    const analytics = new PrivacyAnalytics();
    const errorTracker = new ErrorTracker();
    const accessibilityMonitor = new AccessibilityMonitor();
    
    // Start monitoring
    performanceMonitor.measureCoreWebVitals();
    analytics.trackPageView();
    
    // Update project data with live GitHub stats
    async function updateProjectStats() {
      const projectCards = document.querySelectorAll('[data-repo]');
      
      for (const card of projectCards) {
        try {
          const repo = card.getAttribute('data-repo');
          const [owner, repoName] = repo.split('/');
          const repoData = await gitHubAPI.fetchRepo(owner, repoName);
          
          if (repoData) {
            const meta = card.querySelector('.meta');
            if (meta) {
              // Update stars count
              const starsSpan = meta.querySelector('[data-stars]');
              if (starsSpan) {
                starsSpan.textContent = `⭐ ${repoData.stargazers_count}`;
              }
              
              // Update language
              const langSpan = meta.querySelector('[data-language]');
              if (langSpan && repoData.language) {
                langSpan.textContent = repoData.language;
                langSpan.style.color = gitHubAPI.getLanguageColor(repoData.language);
              }
              
              // Update last updated
              const updatedSpan = meta.querySelector('[data-updated]');
              if (updatedSpan) {
                updatedSpan.textContent = gitHubAPI.formatDate(repoData.updated_at);
              }
            }
          }
        } catch (error) {
          console.warn(`Failed to update stats for ${card.getAttribute('data-repo')}:`, error);
        }
      }
    }
    
    // Update reading times for blog posts
    updateReadingTimes();
    
    // Run accessibility check
    setTimeout(() => {
      accessibilityMonitor.logAccessibilityReport();
    }, 1000);
    
    // Log performance metrics after page load
    window.addEventListener('load', () => {
      setTimeout(() => {
        performanceMonitor.logMetrics();
      }, 2000);
    });
    
    // Update GitHub stats (with rate limiting consideration)
    if (navigator.onLine) {
      setTimeout(updateProjectStats, 1000);
    }
    
    // Track user interactions for analytics
    document.addEventListener('click', (e) => {
      if (e.target.tagName === 'A') {
        analytics.trackEvent('link_click', {
          href: e.target.href,
          text: e.target.textContent.substring(0, 50)
        });
      } else if (e.target.tagName === 'BUTTON') {
        analytics.trackEvent('button_click', {
          id: e.target.id,
          text: e.target.textContent.substring(0, 50)
        });
      }
    });
    
    // Periodic quality assurance checks
    setInterval(() => {
      if (Math.random() < 0.1) { // 10% chance every interval
        accessibilityMonitor.checkAccessibility();
      }
    }, 30000); // Every 30 seconds
    
    // AutoRepro Project Page Functionality
    const autoReproPage = document.getElementById('autorepro-page');
    const backToHomeBtn = document.getElementById('back-to-home');
    const autoReproCard = document.querySelector('.autorepro-card');
    const devBanner = document.getElementById('dev-banner');
    const bannerMessage = document.getElementById('banner-message');
    
    // Magical development messages
    const magicalMessages = [
      '🔮 Conjuring reproducible magic...',
      '✨ Weaving dev-container spells...',
      '🎭 Orchestrating issue reproduction theatre...',
      '🧙‍♂️ Brewing automated debugging potions...',
      '🌟 Channeling maintainer superpowers...',
      '🎪 Running the greatest debugging show on earth...',
      '🎨 Painting perfect reproduction paths...',
      '🔧 Forging legendary developer tools...',
      '🎵 Composing symphonies of systematic reproduction...',
      '🚀 Building rocket ships for bug hunting...'
    ];
    
    let messageIndex = 0;
    
    function rotateDevMessage() {
      if (bannerMessage) {
        bannerMessage.textContent = magicalMessages[messageIndex];
        messageIndex = (messageIndex + 1) % magicalMessages.length;
      }
    }
    
    // Rotate messages every 4 seconds
    setInterval(rotateDevMessage, 4000);
    
    function showAutoReproPage() {
      autoReproPage.style.display = 'block';
      // Trigger reflow before adding show class for smooth animation
      autoReproPage.offsetHeight;
      autoReproPage.classList.add('show');
      document.body.style.overflow = 'hidden';
      
      // Load AutoRepro activity data
      loadAutoReproActivity();
      
      // Announce to screen readers
      announcements.textContent = 'AutoRepro project page opened';
    }
    
    function hideAutoReproPage() {
      autoReproPage.classList.remove('show');
      document.body.style.overflow = '';
      setTimeout(() => {
        autoReproPage.style.display = 'none';
      }, 300);
      
      // Announce to screen readers
      announcements.textContent = 'Returned to homepage';
    }
    
    // Event listeners
    if (autoReproCard) {
      autoReproCard.addEventListener('click', showAutoReproPage);
      autoReproCard.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          showAutoReproPage();
        }
      });
    }
    
    if (backToHomeBtn) {
      backToHomeBtn.addEventListener('click', hideAutoReproPage);
    }
    
    // Close on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && autoReproPage.classList.contains('show')) {
        hideAutoReproPage();
      }
    });
    
    // AutoRepro Activity Feed
    async function loadAutoReproActivity() {
      const activityContainer = document.getElementById('autorepro-activity');
      
      try {
        // Fetch repository data
        const [repoData, commitsData, issuesData, prData] = await Promise.all([
          gitHubAPI.fetchRepo('ali90h', 'AutoRepro'),
          fetch('https://api.github.com/repos/ali90h/AutoRepro/commits?per_page=5').then(r => r.ok ? r.json() : []),
          fetch('https://api.github.com/repos/ali90h/AutoRepro/issues?state=all&per_page=5').then(r => r.ok ? r.json() : []),
          fetch('https://api.github.com/repos/ali90h/AutoRepro/pulls?state=all&per_page=5').then(r => r.ok ? r.json() : [])
        ]);
        
        // Combine and sort activities
        const activities = [];
        
        // Add commits
        commitsData.forEach(commit => {
          activities.push({
            type: 'commit',
            icon: '📝',
            title: commit.commit.message.split('\n')[0],
            description: `Committed by ${commit.commit.author.name}`,
            date: commit.commit.author.date,
            url: commit.html_url
          });
        });
        
        // Add issues
        issuesData.forEach(issue => {
          if (!issue.pull_request) {
            activities.push({
              type: 'issue',
              icon: issue.state === 'open' ? '🐛' : '✅',
              title: issue.title,
              description: `Issue ${issue.state} by ${issue.user.login}`,
              date: issue.updated_at,
              url: issue.html_url
            });
          }
        });
        
        // Add pull requests
        prData.forEach(pr => {
          activities.push({
            type: 'pr',
            icon: pr.state === 'open' ? '🔄' : (pr.merged_at ? '🎉' : '❌'),
            title: pr.title,
            description: `Pull request ${pr.state} by ${pr.user.login}`,
            date: pr.updated_at,
            url: pr.html_url
          });
        });
        
        // Sort by date (newest first)
        activities.sort((a, b) => new Date(b.date) - new Date(a.date));
        
        // Render activities
        if (activities.length === 0) {
          activityContainer.innerHTML = `
            <div class="activity-loading">
              <span>No recent activity found. Repository is in early development stage.</span>
            </div>
          `;
        } else {
          activityContainer.innerHTML = activities.slice(0, 8).map(activity => `
            <div class="activity-item">
              <div class="activity-icon">${activity.icon}</div>
              <div class="activity-content">
                <h4><a href="${activity.url}" target="_blank" rel="noopener">${activity.title}</a></h4>
                <p>${activity.description}</p>
                <div class="activity-meta">
                  <span>${gitHubAPI.formatDate(activity.date)}</span>
                  <span>•</span>
                  <span>${activity.type}</span>
                </div>
              </div>
            </div>
          `).join('');
        }
        
        // Add repository stats if available
        if (repoData) {
          const statsHtml = `
            <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid var(--border);">
              <div style="display: flex; gap: 24px; flex-wrap: wrap; justify-content: center; font-size: 0.9em;">
                <span><strong>${repoData.stargazers_count}</strong> stars</span>
                <span><strong>${repoData.forks_count}</strong> forks</span>
                <span><strong>${repoData.open_issues_count}</strong> open issues</span>
                <span>Last updated <strong>${gitHubAPI.formatDate(repoData.updated_at)}</strong></span>
              </div>
            </div>
          `;
          activityContainer.innerHTML += statsHtml;
        }
        
      } catch (error) {
        console.warn('Failed to load AutoRepro activity:', error);
        activityContainer.innerHTML = `
          <div class="activity-loading">
            <span>Unable to load activity data. Please check your connection or try again later.</span>
          </div>
        `;
      }
    }
    
    // GitHub Contributions System with Smart Polling
    class GitHubContributions {
      constructor() {
        this.username = 'ali90h';
        this.cache = new Map();
        this.lastFetch = 0;
        this.cacheDuration = 24 * 60 * 60 * 1000; // 24 hours for stable data
        this.allContributions = [];
        this.filteredContributions = [];
        this.currentFilter = 'all';
        this.pollingInterval = null;
        this.isPolling = false;
        this.lastActivityHash = null;
        this.retryCount = 0;
        this.maxRetries = 3;
        
        // Reliable fallback data
        this.fallbackStats = {
          commits: '--',
          prs: '--',
          issues: '--',
          repos: 14 // Known from API test
        };
        
        // Initialize with stored data immediately
        this.initializeWithStoredData();
        
        console.log('🚀 GitHub Contributions system initialized');
      }
      
      // Initialize with stored data immediately, then fetch fresh data in background
      initializeWithStoredData() {
        const stored = this.getStoredStats();
        if (stored && stored.data) {
          console.log('📦 Loading cached stats immediately');
          this.updateStatsUI(stored.data);
        } else {
          console.log('🔄 No cached data, showing fallback');
          this.updateStatsUI(this.fallbackStats);
        }
      }
      
      // Get stored stats from localStorage
      getStoredStats() {
        try {
          const key = `github_stats_${this.username}`;
          const stored = localStorage.getItem(key);
          if (stored) {
            const data = JSON.parse(stored);
            // Check if data is still valid (within 24 hours)
            if (Date.now() - data.timestamp < this.cacheDuration) {
              return data;
            } else {
              console.log('⏰ Cached data expired');
              localStorage.removeItem(key);
            }
          }
        } catch (err) {
          console.warn('⚠️ Error reading stored stats:', err);
        }
        return null;
      }
      
      // Store stats to localStorage with timestamp
      storeStats(stats) {
        try {
          const key = `github_stats_${this.username}`;
          const data = {
            data: stats,
            timestamp: Date.now()
          };
          localStorage.setItem(key, JSON.stringify(data));
          console.log('💾 Stats stored successfully:', stats);
        } catch (err) {
          console.warn('⚠️ Error storing stats:', err);
        }
      }
      
      // Update stats UI elements
      updateStatsUI(stats) {
        try {
          console.log('🎨 Updating stats UI:', stats);
          
          const elements = {
            'commits-count': stats.commits,
            'prs-count': stats.prs,
            'issues-count': stats.issues,
            'repos-count': stats.repos
          };
          
          Object.entries(elements).forEach(([id, value]) => {
            const element = document.getElementById(id);
            if (element) {
              element.textContent = typeof value === 'number' ? value.toLocaleString() : value;
            }
          });
          
          // Update timestamp
          const lastUpdated = document.getElementById('last-updated');
          if (lastUpdated) {
            lastUpdated.textContent = `Updated ${new Date().toLocaleTimeString()}`;
          }
          
          console.log('✅ UI updated successfully');
        } catch (err) {
          console.error('❌ Error updating UI:', err);
        }
      }
      
      async fetchWithCache(url, cacheKey) {
        const now = Date.now();
        if (this.cache.has(cacheKey) && (now - this.lastFetch) < this.cacheDuration) {
          console.log(`📦 Using cached data for ${cacheKey}`);
          return this.cache.get(cacheKey);
        }
        
        try {
          console.log(`🌐 Fetching fresh data from: ${url}`);
          const response = await fetch(url, {
            headers: {
              'Accept': 'application/vnd.github.v3+json',
              'User-Agent': 'ali90h-portfolio-site'
            }
          });
          
          if (!response.ok) {
            const errorText = await response.text();
            throw new Error(`HTTP ${response.status}: ${response.statusText} - ${errorText}`);
          }
          
          const data = await response.json();
          this.cache.set(cacheKey, data);
          this.lastFetch = now;
          this.retryCount = 0; // Reset retry count on success
          
          // Log different types of data
          if (data.total_count !== undefined) {
            console.log(`✅ Search result for ${cacheKey}: ${data.total_count} total items`);
          } else if (Array.isArray(data)) {
            console.log(`✅ Array data for ${cacheKey}: ${data.length} items`);
          } else {
            console.log(`✅ Object data for ${cacheKey}:`, Object.keys(data));
          }
          
          return data;
        } catch (error) {
          console.warn(`⚠️ Failed to fetch ${cacheKey} (attempt ${this.retryCount + 1}):`, error);
          this.retryCount++;
          
          // Return cached data if available, even if expired
          if (this.cache.has(cacheKey)) {
            console.log(`📦 Falling back to expired cache for ${cacheKey}`);
            return this.cache.get(cacheKey);
          }
          
          // Return appropriate empty structure
          if (cacheKey.includes('search-')) {
            return { total_count: 0, items: [] };
          }
          return Array.isArray(this.cache.get(cacheKey)) ? [] : {};
        }
      }
      
      // Smart polling with enhanced activity detection
      startSmartPolling() {
        if (this.isPolling) return;
        
        this.isPolling = true;
        console.log('🔄 Starting enhanced smart polling for GitHub updates...');
        
        // Initial load
        this.loadStats();
        
        // Set up adaptive polling with different intervals
        this.pollingInterval = setInterval(async () => {
          try {
            // Quick check for new activity using events endpoint
            const latestEvents = await this.fetchWithCache(
              `https://api.github.com/users/${this.username}/events/public?per_page=10`, 
              'latest-check'
            );
            
            // Create hash of latest activity
            const currentHash = this.createActivityHash(latestEvents);
            
            if (this.lastActivityHash && currentHash !== this.lastActivityHash) {
              console.log('🆕 New GitHub activity detected! Refreshing all data...');
              this.clearCache();
              await this.loadStats();
              
              // Show notification to user
              this.showUpdateNotification('New GitHub activity detected!');
            } else {
              console.log('📊 No new activity detected, data is current');
            }
            
            this.lastActivityHash = currentHash;
            
          } catch (error) {
            console.warn('⚠️ Smart polling error:', error);
            if (this.retryCount >= this.maxRetries) {
              console.log('❌ Too many failures, stopping smart polling');
              this.stopSmartPolling();
              this.updateSyncStatus('error', 'Offline');
            }
          }
        }, 45000); // Check every 45 seconds for better rate limiting
      }
      
      stopSmartPolling() {
        if (this.pollingInterval) {
          clearInterval(this.pollingInterval);
          this.pollingInterval = null;
          this.isPolling = false;
          console.log('⏹️ Smart polling stopped');
        }
      }
      
      createActivityHash(events) {
        if (!events || !events.length) return 'empty';
        return events.slice(0, 3).map(e => `${e.type}-${e.created_at}`).join('|');
      }
      
      clearCache() {
        this.cache.clear();
        this.lastFetch = 0;
        console.log('🗑️ Cache cleared for fresh data');
      }
      
      // Monitor API rate limits
      async checkRateLimit() {
        try {
          const response = await fetch('https://api.github.com/rate_limit', {
            headers: {
              'Accept': 'application/vnd.github.v3+json',
              'User-Agent': 'ali90h-portfolio-site'
            }
          });
          
          if (response.ok) {
            const rateLimit = await response.json();
            const remaining = rateLimit.resources.core.remaining;
            const limit = rateLimit.resources.core.limit;
            const resetTime = new Date(rateLimit.resources.core.reset * 1000);
            
            console.log(`� GitHub API Rate Limit: ${remaining}/${limit} remaining (resets at ${resetTime.toLocaleTimeString()})`);
            
            // Adjust polling frequency based on remaining requests
            if (remaining < 20) {
              console.log('⚠️ Low API rate limit, reducing polling frequency');
              this.cacheDuration = 10 * 60 * 1000; // 10 minutes
            } else {
              this.cacheDuration = 2 * 60 * 1000; // 2 minutes
            }
            
            return { remaining, limit, resetTime };
          }
        } catch (error) {
          console.warn('Could not check rate limit:', error);
        }
        return null;
      }
      
      // Test function to check API connectivity
      async testGitHubAPI() {
        console.log('🧪 Testing GitHub API connectivity...');
        try {
          const response = await fetch(`https://api.github.com/users/${this.username}/events/public?per_page=10`);
          console.log('📡 API Response Status:', response.status);
          console.log('📡 API Response Headers:', Object.fromEntries(response.headers.entries()));
          
          if (response.ok) {
            const data = await response.json();
            console.log('� API Data Sample:', data.slice(0, 2));
            console.log('✅ GitHub API is working correctly');
            return data;
          } else {
            console.error('❌ API Error:', response.status, response.statusText);
            return [];
          }
        } catch (error) {
          console.error('❌ Network Error:', error);
          return [];
        }
      }
        // Remove any existing notifications
        const existingNotification = document.querySelector('.github-notification');
        if (existingNotification) {
          existingNotification.remove();
        }
        
        // Create a subtle notification
        const notification = document.createElement('div');
        notification.className = 'github-notification';
        notification.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          background: var(--accent);
          color: var(--bg);
          padding: 12px 20px;
          border-radius: 8px;
          font-size: 0.9em;
          font-weight: 500;
          z-index: 1000;
          box-shadow: 0 4px 12px color-mix(in oklab, var(--accent) 30%, transparent);
          transform: translateX(100%);
          transition: transform 0.3s ease;
          max-width: 300px;
        `;
        notification.textContent = message;
        
        document.body.appendChild(notification);
        
        // Animate in
        setTimeout(() => {
          notification.style.transform = 'translateX(0)';
        }, 100);
        
        // Remove after 4 seconds
        setTimeout(() => {
          notification.style.transform = 'translateX(100%)';
          setTimeout(() => {
            if (notification.parentNode) {
              notification.parentNode.removeChild(notification);
            }
          }, 300);
        }, 4000);
      }
      
      async loadStats() {
        console.log('🔄 Starting stats loading process...');
        this.updateSyncStatus('syncing', 'Syncing...');
        
        try {
          // Always show immediately available data first
          const stored = this.getStoredStats();
          if (stored) {
            console.log('� Using cached data while fetching fresh');
            this.updateStatsUI(stored.data);
          }
          
          // Fetch fresh data from GitHub API
          console.log('🌐 Fetching fresh data from GitHub API...');
          
          // Get basic user data (most reliable)
          const user = await this.fetchWithCache(`https://api.github.com/users/${this.username}`, 'user');
          console.log('👤 User data loaded:', user);
          
          // Get repositories (reliable)
          const repos = await this.fetchWithCache(`https://api.github.com/users/${this.username}/repos?per_page=100&type=public`, 'repos');
          console.log('📁 Repositories loaded:', repos.length);
          
          // Calculate reliable stats
          const freshStats = {
            repos: user.public_repos || repos.length || this.fallbackStats.repos,
            commits: '--', // Will try to get from search API
            prs: '--',
            issues: '--'
          };
          
          // Try to get enhanced stats from Search API (may fail due to rate limits)
          try {
            const currentYear = new Date().getFullYear();
            console.log('🔍 Attempting to fetch search API data for year:', currentYear);
            
            const [searchCommits, searchPRs, searchIssues] = await Promise.allSettled([
              this.fetchWithCache(`https://api.github.com/search/commits?q=author:${this.username}+committer-date:${currentYear}-01-01..${currentYear}-12-31&per_page=1`, 'search-commits'),
              this.fetchWithCache(`https://api.github.com/search/issues?q=author:${this.username}+type:pr+created:${currentYear}-01-01..${currentYear}-12-31&per_page=1`, 'search-prs'),
              this.fetchWithCache(`https://api.github.com/search/issues?q=author:${this.username}+type:issue+created:${currentYear}-01-01..${currentYear}-12-31&per_page=1`, 'search-issues')
            ]);
            
            if (searchCommits.status === 'fulfilled' && searchCommits.value) {
              freshStats.commits = searchCommits.value.total_count;
              console.log('✅ Commits count:', freshStats.commits);
            }
            
            if (searchPRs.status === 'fulfilled' && searchPRs.value) {
              freshStats.prs = searchPRs.value.total_count;
              console.log('✅ PRs count:', freshStats.prs);
            }
            
            if (searchIssues.status === 'fulfilled' && searchIssues.value) {
              freshStats.issues = searchIssues.value.total_count;
              console.log('✅ Issues count:', freshStats.issues);
            }
            
          } catch (searchError) {
            console.warn('⚠️ Search API failed, using repository-based estimates:', searchError.message);
            // Use repository count as fallback for some stats
            freshStats.commits = repos.filter(repo => !repo.fork).length || '--';
          }
          
          // Update UI with fresh data
          this.updateStatsUI(freshStats);
          
          // Store fresh data for 24h
          this.storeStats(freshStats);
          
          this.updateSyncStatus('synced', 'Synced');
          console.log('✅ Stats loading completed successfully');
          
          // Load recent activity from events
          this.displayRecentActivity(events.slice(0, 5));
          
          // Update sync status
          this.updateSyncStatus('synced', 'Live');
          
          console.log('✅ Accurate GitHub Stats Loaded:', { 
            commits, 
            prs, 
            issues, 
            publicRepos,
            dataSource: 'GitHub Search API'
          });
          
        } catch (error) {
          console.warn('❌ Failed to load GitHub stats:', error);
          this.updateSyncStatus('error', 'Error');
          
          // Fallback to basic user data if search fails
          await this.loadBasicStats();
        }
      }
      
      // Fallback method using basic endpoints
      async loadBasicStats() {
        try {
          const [user, repos, events] = await Promise.all([
            this.fetchWithCache(`https://api.github.com/users/${this.username}`, 'user-basic'),
            this.fetchWithCache(`https://api.github.com/users/${this.username}/repos?per_page=100`, 'repos-basic'),
            this.fetchWithCache(`https://api.github.com/users/${this.username}/events/public?per_page=100`, 'events-basic')
          ]);
          
          // Calculate from available events (limited but better than nothing)
          const currentYear = new Date().getFullYear();
          const yearEvents = events.filter(event => new Date(event.created_at).getFullYear() === currentYear);
          
          const commits = yearEvents
            .filter(e => e.type === 'PushEvent')
            .reduce((sum, e) => sum + (e.payload.commits ? e.payload.commits.length : 0), 0);
          
          const prs = yearEvents.filter(e => e.type === 'PullRequestEvent' && e.payload.action === 'opened').length;
          const issues = yearEvents.filter(e => e.type === 'IssuesEvent' && e.payload.action === 'opened').length;
          
          // Update with fallback data
          document.getElementById('commits-count').textContent = `${commits.toLocaleString()}+`;
          document.getElementById('prs-count').textContent = `${prs.toLocaleString()}+`;
          document.getElementById('issues-count').textContent = `${issues.toLocaleString()}+`;
          document.getElementById('repos-count').textContent = user.public_repos.toLocaleString();
          
          this.displayRecentActivity(events.slice(0, 5));
          this.updateSyncStatus('synced', 'Limited');
          
          console.log('⚠️ Using fallback stats (limited data):', { commits, prs, issues });
          
        } catch (fallbackError) {
          console.error('❌ Fallback stats also failed:', fallbackError);
          this.showError('stats');
        }
      }
      
      updateSyncStatus(status, text) {
        const indicator = document.getElementById('sync-status');
        const dot = indicator.querySelector('.sync-dot');
        const textEl = indicator.querySelector('.sync-text');
        
        if (indicator && dot && textEl) {
          indicator.className = `sync-indicator ${status}`;
          dot.className = `sync-dot ${status}`;
          textEl.textContent = text;
        }
      }
      
      displayRecentActivity(events) {
        const container = document.getElementById('recent-activity');
        if (!events || !events.length) {
          container.innerHTML = '<div class="loading-placeholder">⚠️ No recent GitHub activity found</div>';
          return;
        }
        
        console.log('📊 Processing events for recent activity:', events.length);
        
        // Filter to show meaningful activities only
        const meaningfulEvents = events.filter(event => 
          ['PushEvent', 'PullRequestEvent', 'IssuesEvent', 'CreateEvent', 'ReleaseEvent', 'ForkEvent', 'WatchEvent'].includes(event.type)
        ).slice(0, 4);
        
        console.log('✅ Meaningful events found:', meaningfulEvents.length);
        
        if (!meaningfulEvents.length) {
          container.innerHTML = '<div class="loading-placeholder">📭 No recent activity to display</div>';
          return;
        }
        
        container.innerHTML = meaningfulEvents.map(event => {
          const date = new Date(event.created_at);
          const timeAgo = this.getTimeAgo(date);
          const icon = this.getEventIcon(event.type);
          const title = this.getEventTitle(event);
          const desc = this.getEventDescription(event);
          const repoName = event.repo.name.split('/')[1] || event.repo.name;
          const repoUrl = `https://github.com/${event.repo.name}`;
          
          // Create clickable activity link
          let activityUrl = repoUrl;
          if (event.type === 'PullRequestEvent') {
            activityUrl = event.payload.pull_request?.html_url || repoUrl;
          } else if (event.type === 'IssuesEvent') {
            activityUrl = event.payload.issue?.html_url || repoUrl;
          } else if (event.type === 'PushEvent') {
            activityUrl = `${repoUrl}/commits/${event.payload.head}`;
          }
          
          return `
            <div class="activity-item" onclick="window.open('${activityUrl}', '_blank')" style="cursor: pointer;">
              <div class="activity-icon">${icon}</div>
              <div class="activity-content">
                <div class="activity-title">${title}</div>
                <div class="activity-desc">${desc} • ${repoName}</div>
              </div>
              <div class="activity-time">${timeAgo}</div>
            </div>
          `;
        }).join('');
        
        console.log('✅ Recent activity UI updated successfully');
      }
      
      async loadAllContributions() {
        try {
          const [repos, events, user] = await Promise.all([
            this.fetchWithCache(`https://api.github.com/users/${this.username}/repos?per_page=100&sort=updated`, 'all-repos'),
            this.fetchWithCache(`https://api.github.com/users/${this.username}/events/public?per_page=300`, 'all-events'),
            this.fetchWithCache(`https://api.github.com/users/${this.username}`, 'user')
          ]);
          
          this.allContributions = [];
          
          // Add repositories
          repos.forEach(repo => {
            this.allContributions.push({
              type: 'repo',
              title: repo.name,
              description: repo.description || 'No description provided',
              url: repo.html_url,
              date: new Date(repo.created_at),
              repo: repo.full_name,
              stats: {
                stars: repo.stargazers_count,
                forks: repo.forks_count,
                language: repo.language
              }
            });
          });
          
          // Add events (commits, PRs, issues)
          events.forEach(event => {
            const contribution = this.parseEvent(event);
            if (contribution) {
              this.allContributions.push(contribution);
            }
          });
          
          // Sort by date (newest first)
          this.allContributions.sort((a, b) => b.date - a.date);
          this.filteredContributions = [...this.allContributions];
          
          this.displayContributions();
          
        } catch (error) {
          console.warn('Failed to load all contributions:', error);
          this.showError('contributions');
        }
      }
      
      parseEvent(event) {
        const date = new Date(event.created_at);
        const repo = event.repo.name;
        
        switch (event.type) {
          case 'PushEvent':
            return {
              type: 'commit',
              title: `${event.payload.commits.length} commit${event.payload.commits.length > 1 ? 's' : ''} to ${repo}`,
              description: event.payload.commits[0]?.message || 'No commit message',
              url: `https://github.com/${repo}/commits/${event.payload.head}`,
              date,
              repo
            };
            
          case 'PullRequestEvent':
            const pr = event.payload.pull_request;
            return {
              type: 'pr',
              title: pr.title,
              description: `${event.payload.action} pull request #${pr.number}`,
              url: pr.html_url,
              date,
              repo,
              stats: {
                additions: pr.additions,
                deletions: pr.deletions,
                changed_files: pr.changed_files
              }
            };
            
          case 'IssuesEvent':
            const issue = event.payload.issue;
            return {
              type: 'issue',
              title: issue.title,
              description: `${event.payload.action} issue #${issue.number}`,
              url: issue.html_url,
              date,
              repo
            };
            
          default:
            return null;
        }
      }
      
      displayContributions() {
        const container = document.getElementById('contributions-list');
        if (!this.filteredContributions.length) {
          container.innerHTML = '<div class="no-contributions">No contributions found for the selected filter.</div>';
          return;
        }
        
        container.innerHTML = this.filteredContributions.map(contrib => {
          const icon = this.getTypeIcon(contrib.type);
          const timeAgo = this.getTimeAgo(contrib.date);
          const typeClass = `type-${contrib.type}`;
          
          return `
            <div class="contribution-item" data-type="${contrib.type}">
              <div class="contribution-icon">${icon}</div>
              <div class="contribution-content">
                <div class="contribution-header">
                  <a href="${contrib.url}" class="contribution-title" target="_blank">${contrib.title}</a>
                  <span class="contribution-date">${timeAgo}</span>
                </div>
                <p class="contribution-desc">${contrib.description}</p>
                <div class="contribution-meta">
                  <a href="https://github.com/${contrib.repo}" class="contribution-repo" target="_blank">${contrib.repo}</a>
                  <span class="contribution-type ${typeClass}">${contrib.type}</span>
                  ${contrib.stats ? this.formatStats(contrib.stats) : ''}
                </div>
              </div>
            </div>
          `;
        }).join('');
      }
      
      formatStats(stats) {
        if (stats.stars !== undefined) {
          return `<div class="contribution-stats"><span>⭐ ${stats.stars}</span><span>🍴 ${stats.forks}</span>${stats.language ? `<span>${stats.language}</span>` : ''}</div>`;
        }
        if (stats.additions !== undefined) {
          return `<div class="contribution-stats"><span>+${stats.additions}</span><span>-${stats.deletions}</span><span>${stats.changed_files} files</span></div>`;
        }
        return '';
      }
      
      filterContributions(type) {
        this.currentFilter = type;
        
        // Update filter buttons
        document.querySelectorAll('.filter-btn').forEach(btn => {
          btn.classList.toggle('active', btn.dataset.filter === type);
        });
        
        // Filter contributions
        if (type === 'all') {
          this.filteredContributions = [...this.allContributions];
        } else {
          this.filteredContributions = this.allContributions.filter(contrib => contrib.type === type);
        }
        
        this.displayContributions();
      }
      
      getEventIcon(type) {
        const icons = {
          'PushEvent': '📝',
          'PullRequestEvent': '🔄',
          'IssuesEvent': '🐛',
          'CreateEvent': '✨',
          'ForkEvent': '🍴',
          'WatchEvent': '⭐'
        };
        return icons[type] || '📅';
      }
      
      getTypeIcon(type) {
        const icons = {
          'commit': '📝',
          'pr': '🔄',
          'issue': '🐛',
          'repo': '📁'
        };
        return icons[type] || '📅';
      }
      
      getEventTitle(event) {
        switch (event.type) {
          case 'PushEvent':
            return `Pushed ${event.payload.commits.length} commit${event.payload.commits.length > 1 ? 's' : ''}`;
          case 'PullRequestEvent':
            return `${event.payload.action} pull request`;
          case 'IssuesEvent':
            return `${event.payload.action} issue`;
          case 'CreateEvent':
            return `Created ${event.payload.ref_type}`;
          default:
            return event.type.replace('Event', '');
        }
      }
      
      getEventDescription(event) {
        switch (event.type) {
          case 'PushEvent':
            return event.payload.commits[0]?.message || 'No commit message';
          case 'PullRequestEvent':
            return event.payload.pull_request.title;
          case 'IssuesEvent':
            return event.payload.issue.title;
          case 'CreateEvent':
            return `${event.payload.ref_type} in ${event.repo.name}`;
          default:
            return `Activity in ${event.repo.name}`;
        }
      }
      
      getTimeAgo(date) {
        const now = new Date();
        const diff = now - date;
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor(diff / (1000 * 60 * 60));
        const minutes = Math.floor(diff / (1000 * 60));
        
        if (days > 0) return `${days}d ago`;
        if (hours > 0) return `${hours}h ago`;
        if (minutes > 0) return `${minutes}m ago`;
        return 'Just now';
      }
      
      showError(context) {
        if (context === 'stats') {
          document.getElementById('commits-count').textContent = 'N/A';
          document.getElementById('prs-count').textContent = 'N/A';
          document.getElementById('issues-count').textContent = 'N/A';
          document.getElementById('repos-count').textContent = 'N/A';
          document.getElementById('last-updated').textContent = 'Failed to load';
          document.getElementById('recent-activity').innerHTML = '<div class="loading-placeholder">Unable to load GitHub data. Please check your connection.</div>';
        } else if (context === 'contributions') {
          document.getElementById('contributions-list').innerHTML = '<div class="no-contributions">Unable to load contributions. Please try again later.</div>';
        }
      }
    }
    
    // Initialize GitHub contributions system
    const githubContributions = new GitHubContributions();
    
    // Show/hide contributions page
    function showContributions() {
      document.getElementById('contributions-page').style.display = 'flex';
      document.body.style.overflow = 'hidden';
      
      // Load contributions if not already loaded
      if (githubContributions.allContributions.length === 0) {
        githubContributions.loadAllContributions();
      }
    }
    
    function hideContributions() {
      document.getElementById('contributions-page').style.display = 'none';
      document.body.style.overflow = '';
    }
    
    function filterContributions(type) {
      githubContributions.filterContributions(type);
    }
    
    // Close modal on ESC key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        hideContributions();
      }
    });
    
    // Close modal on backdrop click
    document.getElementById('contributions-page').addEventListener('click', (e) => {
      if (e.target === e.currentTarget) {
        hideContributions();
      }
    });
    
    // Load GitHub stats on page load with smart polling and debugging
    document.addEventListener('DOMContentLoaded', () => {
      console.log('🚀 Initializing GitHub contributions system...');
      // Initialize GitHub contributions system
      const githubContributions = new GitHubContributions();
      
      console.log('🌟 Starting GitHub stats system...');
      
      // Load stats immediately (will use cached data if available)
      githubContributions.loadStats().then(() => {
        console.log('✅ GitHub stats system ready');
      }).catch(error => {
        console.error('❌ GitHub stats system failed:', error);
        // Ensure fallback data is shown
        githubContributions.updateStatsUI(githubContributions.fallbackStats);
      });
      
      // Set up 24-hour refresh cycle
      setInterval(() => {
        console.log('🔄 24-hour refresh cycle triggered');
        githubContributions.loadStats();
      }, 24 * 60 * 60 * 1000); // 24 hours
      
      // Also refresh if user manually refreshes page and data is old
      window.addEventListener('focus', () => {
        const stored = githubContributions.getStoredStats();
        if (!stored || (Date.now() - stored.timestamp > 12 * 60 * 60 * 1000)) {
          console.log('🔄 Page focus refresh - data is old');
          githubContributions.loadStats();
        }
      });
        if (document.hidden) {
          githubContributions.stopSmartPolling();
          console.log('📱 Tab hidden - polling paused');
        } else {
          githubContributions.startSmartPolling();
          console.log('👁️ Tab visible - polling resumed');
        }
      });
      
      // Stop polling when page is about to unload
      window.addEventListener('beforeunload', () => {
        githubContributions.stopSmartPolling();
      });
    });
    
    // Expose metrics for debugging
    window.ali90hMetrics = {
      performance: () => performanceMonitor.getMetrics(),
      analytics: () => analytics.getAnalytics(),
      errors: () => errorTracker.getErrors(),
      accessibility: () => accessibilityMonitor.checkAccessibility(),
      github: () => ({
        contributions: githubContributions.allContributions.length,
        lastFetch: new Date(githubContributions.lastFetch).toISOString(),
        cacheSize: githubContributions.cache.size
      })
    };
  </script>
</body>
</html>
